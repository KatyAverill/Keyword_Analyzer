<!doctype html>
<html>
<head>
	<script language="JavaScript" type="text/javascript" src="jquery-1.9.1.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="DataTables-1.9.4/media/js/jquery.dataTables.min.js"></script>
	<link href="DataTables-1.9.4/media/css/jquery.dataTables.css" rel="stylesheet" type="text/css">
	<link href="stylesheets/styles.css" rel="stylesheet">
</head>
<body>
	<script>
            $( document ).ready( function() {

                $('form').submit(function(event){
                        event.preventDefault();
                        var
                                keyword_list = $('#searchtext').val().split(" "),
                                word_list = $('#searchtext').val().split(" "),
                                nwords = word_list.length;
                                $('#result').html(nwords + " Total Words in Article");
                        keyword_dict = {};
                        for (var i = 0, w; w = keyword_list[i]; i++) {
                                var w = w.replace(/\W/g,'');
                                keyword_dict[w] = 0;
                        }
                        for (var i = 0, w; w = word_list[i]; i++) {
                                var w = w.replace(/\W/g,'');
                                for(var keyword in keyword_dict){
                                        if (keyword == w){
                                                keyword_dict[w] += 1;
                                        }
                                }
                        }

/*  Here is a JavaScript Array of all the unwanted words...

                        var unwanted = [
                                "a",
                                "all",
                                "am",
                                "an",
                                "and",
                                "any",
                                "are",
                                "as",
                                "at",
                                "be",
                                "but",
                                "can",
                                "did",
                                "do",
                                "does",
                                "for",
                                "from",
                                "had",
                                "has",
                                "have",
                                "here",
                                "how",
                                "i",
                                "if",
                                "in",
                                "is",
                                "it",
                                "no",
                                "not",
                                "of",
                                "on",
                                "or",
                                "so",
                                "that",
                                "the",
                                "then",
                                "there",
                                "this",
                                "to",
                                "too",
                                "up",
                                "use",
                                "what",
                                "when",
                                "where",
                                "who",
                                "why",
                                "you"
                          ];

*/

                        items = '<thead><th>unique keywords</th><th>occurance</th><th>percent of text</th></thead>';
                        for (keyword in keyword_dict){
                                var occ = keyword_dict[keyword]*100/nwords;
                                var c=''
                                items += '<tr class="'+c+'"><td>'+keyword+'</td><td>'+keyword_dict[keyword]+'</td><td>'+occ.toPrecision(2)+'</td></tr>';
                            }
                        console.log(keyword_dict);
                        $('#result').append('<table>'+items+'<table>');
                        $('#result table').dataTable();
                });
         });
    </script>

                <h1>Keyword Density Analyzer</h1>
                <form>
                        <label>Article:</label><br>
                        <textarea rows="25" cols="100" id="searchtext"></textarea><br>
                        <input class="btn btn-success" id="go" type="submit" value="Submit"></input>
                </form>
                <div id="result">
                        
                </div>
        </body>
</html>
